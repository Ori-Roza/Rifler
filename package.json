{
  "name": "rifler",
  "displayName": "Rifler",
  "icon": "assets/icon.jpeg",
  "description": "Fast file search with dynamic results, regex, file mask, and full preview",
  "version": "1.1.6",
  "publisher": "Ori-Roza",
  "repository": "https://github.com/ori-roza/rifler",
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other"
  ],
  "keywords": [
    "search",
    "regex",
    "rifler",
    "file mask",
    "preview",
    "file search",
    "quick open",
    "file opener",
    "navigation",
    "go to file",
    "productivity",
    "speed",
    "fuzzy search",
    "fast search",
    "code search"
  ],
  "activationEvents": [],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "rifler-sidebar",
          "title": "Rifler",
          "icon": "assets/icon-activitybar.svg"
        }
      ],
      "panel": [
        {
          "id": "rifler-bottom",
          "title": "Rifler",
          "icon": "assets/icon-activitybar.svg"
        }
      ]
    },
    "views": {
      "rifler-sidebar": [
        {
          "type": "webview",
          "id": "rifler.sidebarView",
          "name": "Search",
          "contextualTitle": "Rifler Search"
        }
      ],
      "rifler-bottom": [
        {
          "type": "webview",
          "id": "rifler.bottomView",
          "name": "Search",
          "contextualTitle": "Rifler Search"
        }
      ]
    },
    "commands": [
      {
        "command": "rifler.open",
        "title": "Rifler: Search in Files (Window Panel)"
      },
      {
        "command": "rifler.openReplace",
        "title": "Rifler: Search and Replace (Window Panel)"
      },
      {
        "command": "rifler.toggleReplace",
        "title": "Rifler: Toggle Replace"
      },
      {
        "command": "rifler.openSidebar",
        "title": "Rifler: Search in Files (Sidebar)",
        "icon": "$(search)"
      },
      {
        "command": "rifler.openSidebarReplace",
        "title": "Rifler: Search and Replace (Sidebar)",
        "icon": "$(replace-all)"
      },
      {
        "command": "rifler.minimize",
        "title": "Minimize to Status Bar",
        "icon": "$(chevron-right)"
      },
      {
        "command": "rifler.restore",
        "title": "Restore from Status Bar"
      },
      {
        "command": "rifler.openSelectedInEditor",
        "title": "Rifler: Open Selected Result in Editor",
        "icon": "$(go-to-file)"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "command": "rifler.minimize",
          "when": "activeWebviewPanelId == 'rifler'",
          "group": "navigation"
        }
      ]
    },
    "keybindings": [
      {
        "command": "rifler.open",
        "key": "ctrl+alt+f",
        "mac": "cmd+alt+f"
      },
      {
        "command": "rifler.openReplace",
        "key": "ctrl+alt+r",
        "mac": "cmd+alt+r"
      },
      {
        "command": "rifler.toggleReplace",
        "key": "alt+shift+f",
        "mac": "shift+option+f",
        "when": "activeWebviewPanelId == 'rifler' || view == rifler.sidebarView || view == rifler.bottomView"
      }
    ],
    "configuration": {
      "title": "Rifler",
      "properties": {
        "rifler.persistSearchState": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "Persist search state within the current session. State is automatically cleared when switching workspaces. Turn off to avoid restoring previous searches.",
          "order": 0
        },
        "rifler.persistenceScope": {
          "type": "string",
          "enum": [
            "workspace",
            "global",
            "off"
          ],
          "enumDescriptions": [
            "Persist state per workspace - cleared when switching workspaces (recommended)",
            "Persist state globally across all workspaces",
            "Do not persist state"
          ],
          "default": "workspace",
          "markdownDescription": "Controls where Rifler persists UI/search state: per workspace (cleared when switching workspaces), globally, or disabled.",
          "order": 0
        },
        "rifler.panelLocation": {
          "type": "string",
          "enum": [
            "sidebar",
            "bottom",
            "window"
          ],
          "enumDescriptions": [
            "Open as a sidebar panel in the Activity Bar",
            "Open in the bottom Panel area",
            "Open as a full editor tab beside your files"
          ],
          "default": "sidebar",
          "markdownDescription": "Controls where Rifler opens. Choose **Sidebar** for the Activity Bar view, **Bottom** for the Panel area, or **Window** for a full editor tab.",
          "order": 1
        },
        "rifler.viewMode": {
          "type": "string",
          "enum": [
            "sidebar",
            "tab"
          ],
          "enumDescriptions": [
            "Open as a sidebar panel",
            "Open as a full editor tab"
          ],
          "default": "sidebar",
          "markdownDescription": "**Deprecated**: Use `rifler.panelLocation` instead. This legacy setting is still read for backwards compatibility.",
          "order": 2
        },
        "rifler.openKeybindingHint": {
          "type": "string",
          "default": "ctrl+alt+f",
          "markdownDescription": "**Note:** This is a hint only. To change the actual keybinding for opening Rifler, go to **Keyboard Shortcuts** (`Cmd+K Cmd+S` on Mac, `Ctrl+K Ctrl+S` on Windows/Linux) and search for `rifler.open`. The default is `Cmd+Alt+F` (Mac) / `Ctrl+Alt+F` (Windows/Linux).",
          "order": 3
        },
        "rifler.replaceInPreviewKeybinding": {
          "type": "string",
          "default": "ctrl+shift+r",
          "description": "Keybinding to open Replace in Preview while editing a file in Rifler. Format: modifier+key (e.g., ctrl+shift+r, cmd+r)",
          "order": 4
        },
        "rifler.maxResults": {
          "type": "number",
          "default": 10000,
          "minimum": 100,
          "markdownDescription": "Maximum number of search results to collect. With virtualized rendering, higher values are handled efficiently.",
          "order": 5
        },
        "rifler.results.showCollapsed": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "Show search results in a collapsed state by default. When enabled, file groups will be collapsed to show only match counts until expanded.",
          "order": 6
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile && npm run copy-webview",
    "compile": "tsc -p ./",
    "copy-webview": "mkdir -p out/webview && cp src/webview/index.html src/webview/script.js src/webview/styles.css src/webview/seti-icons.css src/webview/seti.woff assets/fonts/*.woff2 out/webview/ && cp node_modules/@vscode/codicons/dist/codicon.css node_modules/@vscode/codicons/dist/codicon.ttf out/webview/",
    "watch": "tsc -watch -p ./",
    "lint": "eslint src --ext ts",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:e2e": "vscode-test --label e2e-tests",
    "test:e2e:debug": "vscode-test --label e2e-tests --debug",
    "test:e2e:visible": "vscode-test --label e2e-tests-visible",
    "test:e2e:slow": "E2E_SLOW_MODE=true vscode-test --label e2e-tests-visible",
    "test:e2e:coverage": "node scripts/analyze-e2e-coverage.js",
    "test:combined-coverage": "npm run test:coverage && echo '\\n=== UNIT TEST COVERAGE ABOVE ===\\n' && npm run test:e2e && echo '\\n=== E2E TESTS PASSED ===\\n'",
    "package": "npx @vscode/vsce package",
    "build:package": "npm run vscode:prepublish && npx @vscode/vsce package",
    "release": "standard-version",
    "release:minor": "standard-version --release-as minor",
    "release:major": "standard-version --release-as major",
    "release:patch": "standard-version --release-as patch"
  },
  "devDependencies": {
    "@types/jest": "^29.5.11",
    "@types/mocha": "^10.0.10",
    "@types/vscode": "^1.85.0",
    "@typescript-eslint/eslint-plugin": "^6.13.0",
    "@typescript-eslint/parser": "^6.13.0",
    "@vscode/test-cli": "^0.0.12",
    "@vscode/test-electron": "^2.5.2",
    "@vscode/vsce": "^2.24.0",
    "eslint": "^8.55.0",
    "glob": "^10.3.10",
    "jest": "^29.7.0",
    "mocha": "^11.7.5",
    "react": "^19.2.3",
    "standard-version": "^9.5.0",
    "ts-jest": "^29.1.1",
    "typescript": "^5.3.0"
  },
  "dependencies": {
    "@vscode/codicons": "^0.0.44",
    "@vscode/webview-ui-toolkit": "^1.4.0",
    "highlight.js": "^11.11.1"
  },
  "overrides": {
    "undici": "5.28.4"
  }
}
